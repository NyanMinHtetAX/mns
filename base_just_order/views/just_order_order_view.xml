<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="just_order_order_action" model="ir.actions.act_window">
        <field name="name">Orders</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">jr.order</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'search_default_is_from_mobile_order': 1,'search_default_my_quotation':1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first order!
            </p>
        </field>
    </record>
    <!-- ________FOR SALE ORDER AND QUOTAION MENU AND TREE VIEW__________-->
    <record id="view_quotation_tree_inherit" model="ir.ui.view">
        <field name="name">sale.order.tree</field>
        <field name="model">sale.order</field>
        <field name="priority">4</field>
        <field name="arch" type="xml">
            <tree string="Quotation" class="o_sale_order" sample="1" decoration-info="state in ['draft', 'sent']"
                  decoration-muted="state == 'cancel'">
                <field name="name" string="Number" readonly="1" decoration-bf="1"/>
                <field name="create_date" string="Creation Date" widget="date" optional="show"/>
                <field name="commitment_date" widget="date" optional="hide"/>
                <field name="expected_date" widget="date" optional="hide"/>
                <field name="partner_id" readonly="1"/>
                <field name="user_id" widget="many2one_avatar_user" optional="show"/>
                <field name="activity_ids" widget="list_activity" optional="show"/>
                <field name="team_id" optional="hide"/>
                <field name="tag_ids" optional="hide" widget="many2many_tags" options="{'color_field': 'color'}"/>
                <field name="company_id" groups="base.group_multi_company" optional="show" readonly="1"/>
                <field name="amount_untaxed" sum="Total Tax Excluded" widget="monetary" optional="hide"/>
                <field name="amount_tax" sum="Tax Total" widget="monetary" optional="hide"/>
                <field name="amount_total" sum="Total Tax Included" widget="monetary" decoration-bf="1"
                       optional="show"/>
                <field name="state" decoration-success="state == 'sale' or state == 'done'"
                       decoration-info="state == 'draft' or state == 'sent'" widget="badge" optional="show"/>
                <field name="invoice_status" optional="hide"/>
                <field name="message_needaction" invisible="1"/>
                <field name="currency_id" invisible="1"/>
            </tree>
        </field>
    </record>
    <record id="view_sales_order_filter_inherit" model="ir.ui.view">
        <field name="name">sale.order.list.select</field>
        <field name="model">sale.order</field>
        <field name="priority" eval="15"/>
        <field name="arch" type="xml">
            <search string="Search Sales Order">
                <field name="name" string="Order"
                       filter_domain="['|', '|', ('name', 'ilike', self), ('client_order_ref', 'ilike', self), ('partner_id', 'child_of', self)]"/>
                <field name="partner_id" operator="child_of" context="{'active_test': False}"/>
                <field name="user_id"/>
                <field name="team_id" string="Sales Team"/>
                <field name="order_line" string="Product" filter_domain="[('order_line.product_id', 'ilike', self)]"/>
                <field name="analytic_account_id" groups="analytic.group_analytic_accounting"/>
                <filter string="My Quotations" name="my_quotation" domain="[('user_id', '=', uid)]"/>
                <filter string="My Orders" domain="[('user_id', '=', uid)]" name="my_sale_orders_filter"/>
                <filter string="From Mobile" name="is_from_mobile_order"
                        domain="[('is_from_mobile_order', '=', True)]"/>
                <filter invisible="1" string="Late Activities" name="activities_overdue"
                        domain="[('my_activity_date_deadline', '&lt;', context_today().strftime('%Y-%m-%d'))]"
                        help="Show all records which has next action date is before today"/>
                <filter invisible="1" string="Today Activities" name="activities_today"
                        domain="[('my_activity_date_deadline', '=', context_today().strftime('%Y-%m-%d'))]"/>
                <filter invisible="1" string="Future Activities" name="activities_upcoming_all"
                        domain="[('my_activity_date_deadline', '&gt;', context_today().strftime('%Y-%m-%d'))]"/>
                <group expand="0" string="Group By">
                    <filter string="Salesperson" name="salesperson" domain="[]" context="{'group_by': 'user_id'}"/>
                    <filter name="customer" string="Customer" domain="[]" context="{'group_by': 'partner_id'}"/>
                    <filter string="Order Date" name="order_month" domain="[]" context="{'group_by': 'date_order'}"/>
                </group>
            </search>
        </field>
    </record>
    <record id="action_sale_quotation_inherit" model="ir.actions.act_window">
        <field name="name">Quotations</field>
        <field name="res_model">sale.order</field>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field name="search_view_id" ref="view_sales_order_filter_inherit"/>
        <field name="domain">[('sale_type', '!=', 'pre_order')]</field>
        <field name="context">{'search_default_is_from_mobile_order': 1,'search_default_my_quotation':1}</field>
        <field name="view_id" ref="view_quotation_tree_inherit"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No Requestion reports found
            </p>
            <p>
                Approve the new Requestion reports submitted by the employees you manage.
            </p>
        </field>
    </record>
    <record id="action_sale_order_inherit" model="ir.actions.act_window">
        <field name="name">Orders</field>
        <field name="res_model">sale.order</field>
        <field name="view_mode">tree,kanban,form,calendar,pivot,graph,activity</field>
        <field name="search_view_id" ref="view_sales_order_filter_inherit"/>
        <field name="domain">[]</field>
        <field name="context">{'search_default_is_from_mobile_order': 1}</field>

        <field name="view_id" ref="view_quotation_tree_inherit"/>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No Requestion reports found
            </p>
            <p>
                Approve the new Requestion reports submitted by the employees you manage.
            </p>
        </field>
    </record>


</odoo>