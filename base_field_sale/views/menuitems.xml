<?xml version="1.0" encoding="utf-8" ?>
<odoo>
        <menuitem id="menu_mobile_field_sale_root"
              name="Field Sales"
              web_icon="base_field_sale,static/description/icon.png"
              sequence="35"/>


        <menuitem id="preorder" 
                  name="Pre Order" 
                  parent="menu_mobile_field_sale_root"
                  sequence="1"/>
        <menuitem id="presale_quotation" 
                  name="Quotation" 
                  parent="preorder"
                  action = "action_presale_quotations_with_onboarding"
                  sequence="1"/>
        <menuitem id="presale_order" 
                  name="PreSale Order" 
                  parent="preorder"
                  action = "action_pre_orders"
                  sequence="2"/>

        <menuitem id="fieldsaleorder" 
                  name="Field Sale Orders"
                  parent="menu_mobile_field_sale_root"
                  sequence="2"/>

        <menuitem id="saleorder" 
                  name="Field Sale Orders"
                  parent="fieldsaleorder"
                  action = "sale.action_orders"
                  sequence="1"/>

<!--        MENU OPERATION-->
        <menuitem id="menu_operation_id"
                  name="Operation"
                  parent="menu_mobile_field_sale_root"
                  sequence="3"/>


<!--        MENU INVENTORY-->
        <menuitem id="menu_inventory_id"
                  name="Inventory"
                  parent="menu_mobile_field_sale_root"
                  action="action_mobile_device"
                  sequence="6"/>
        <menuitem id="menu_stock_req_id" name="Stock Request" parent="menu_inventory_id"  sequence="7" action="action_mobile_device"/>
        <menuitem id="menu_stock_return_id" name="Stock Return" parent="menu_inventory_id"  sequence="10" action="action_mobile_device"/>
        <menuitem id="menu_stock_transfer_id" name="Stock Transfer" parent="menu_inventory_id"  sequence="15" action="action_mobile_device"/>
        <menuitem id="menu_stock_damage_id" name="Stock Scrap" parent="menu_inventory_id"  sequence="25" action="action_mobile_device"/>
       <record id="res_partner_action_mobile_customer" model="ir.actions.act_window">
            <field name="name">Mobile Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
           <field name="search_view_id" ref="res_partner_extend.view_res_partner_search"/>
            <field name="context">{'search_default_is_mobile_customer': 1,'res_partner_search_mode': 'is_mobile_customer', 'default_is_company': True, 'default_customer_rank': 1}</field>
            <field name="domain">[('is_mobile_customer', '=', True)]</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new customer in your address book
              </p><p>
                Odoo helps you easily track all activities related to a customer.
              </p>
            </field>
        </record>
   <record id="view_res_partner_search_one" model="ir.ui.view">
        <field name="name">res.partner.search.one</field>
        <field name="model">res.partner</field>
        <field name="arch" type="xml">
            <search string="Search Partner">
                    <field name="name"
                        filter_domain="['|', '|', ('display_name', 'ilike', self), ('ref', '=', self), ('email', 'ilike', self)]"/>
                    <field name="parent_id" domain="[('is_company', '=', True)]" operator="child_of"/>
                    <field name="email" filter_domain="[('email', 'ilike', self)]"/>
                    <field name="phone" filter_domain="['|', ('phone', 'ilike', self), ('mobile', 'ilike', self)]"/>
                    <field name="category_id" string="Tag" filter_domain="[('category_id', 'child_of', self)]"/>
                    <field name="user_id"/>
                    <separator/>
                    <filter string="Individuals" name="type_person" domain="[('is_company', '=', False)]"/>
                    <filter string="Companies" name="type_company" domain="[('is_company', '=', True)]"/>
                    <separator/>
                    <filter string="Archived" name="inactive" domain="[('active', '=', False)]"/>
                    <separator/>
                    <group expand="0" name="group_by" string="Group By">
                        <filter name="salesperson" string="Salesperson" domain="[]" context="{'group_by' : 'user_id'}" />
                        <filter name="group_company" string="Company" context="{'group_by': 'parent_id'}"/>
                        <filter name="group_country" string="Country" context="{'group_by': 'country_id'}"/>
                    </group>
                </search>
        </field>
    </record>
    <record id="res_partner_action_unassigned_customer" model="ir.actions.act_window">
            <field name="name">Unassigned Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
        <field name="search_view_id" ref="base_field_sale.view_res_partner_search_one"/>
            <field name="context">{'default_is_company': True,'default_customer_rank': 1,'search_default_group_township': 1}</field>
            <field name="domain">[('is_route_plan', '=', False),('customer','=',True)]</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new customer in your address book
              </p><p>
                Odoo helps you easily track all activities related to a customer.
              </p>
            </field>
        </record>
    <!--       MENU MASTERDATA-->
       <menuitem id="menu_master_data_id"
                  name="Master Data"
                  parent="menu_mobile_field_sale_root"
                  sequence="8"/>
        <menuitem id="menu_customer_id" name="Customer" parent="menu_master_data_id"  sequence="1" action="ax_base_setup.res_partner_action_customer_fieldsale"/>
        <menuitem id="menu_mobile_customer_id" name="Mobile Customer" parent="menu_master_data_id"  sequence="2" action="res_partner_action_mobile_customer"/>
    <menuitem id="menu_unassigned_customer_id" name="Unassigned Customer" parent="menu_master_data_id"  sequence="3" action="res_partner_action_unassigned_customer"/>

    <menuitem id="menu_product_id" name="Product" parent="menu_master_data_id"  sequence="4" action="stock.product_template_action_product"/>
    <record id="fieldsales_pricelist_action" model="ir.actions.act_window">
            <field name="name">Pricelists</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">product.pricelist</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="search_view_id" ref="product.product_pricelist_view_search" />
            <field name="context">{"default_is_field_sale": True}</field>
            <field name="domain">[('is_field_sale', '=', True)]</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new pricelist
              </p><p>
                A price is a set of sales prices or rules to compute the price of sales order lines based on products, product categories, dates and ordered quantities.
                This is the perfect tool to handle several pricings, seasonal discounts, etc.
              </p><p>
                You can assign pricelists to your customers or select one when creating a new sales quotation.
              </p>
            </field>
        </record>
        <menuitem id="menu_product_pricelist" name="Pricelist" parent="menu_master_data_id"  sequence="5" action="fieldsales_pricelist_action"/>
<!--        MENU REPORTING-->


       <menuitem id="menu_report_id"
                  name="Reporting"
                  parent="menu_mobile_field_sale_root"
                  sequence="9" action="action_mobile_device"/>
<!--        MENU CONFIGURATION-->
        <menuitem id="menu_conf_id"
                  name="Configuration"
                  parent="menu_mobile_field_sale_root"
                  sequence="10"/>
        <menuitem id="menu_field_sale_settings"
                  name="Settings"
                  parent="menu_conf_id"
                  action="action_field_sale_settings"
                  sequence="0" groups="base.group_no_one"/>

        <menuitem name="Others" id="menu_others_fieldsale"  parent="menu_conf_id" sequence="5"/>
        <menuitem id="menu_device_id" name="Device" parent="menu_others_fieldsale"  sequence="5" action="action_mobile_device"/>

        <menuitem name="Sale" id="menu_sale_fieldsale"  parent="menu_conf_id" sequence="1"/>
        <menuitem id="menu_sale_channel_id" name="Sale Channel" parent="menu_sale_fieldsale"  sequence="1" action="res_partner_extend.action_res_sale_channel"/>
        <menuitem id="menu_outlet_id" name="Outlet Type" parent="menu_sale_fieldsale"  sequence="3" action="res_partner_extend.action_outlet"/>

        <!-- For Address Configuration -->
        <menuitem name="Customer Address" id="menu_fieldsale_customer_address"  parent="menu_conf_id" sequence="3"/>
        <menuitem name="Cities" id="menu_cities_fieldsale" action="ax_base_setup.action_city" parent="menu_fieldsale_customer_address" sequence="3"/>
        <menuitem name="Township" id="menu_township_fieldsale" action="ax_base_setup.action_township" parent="menu_fieldsale_customer_address" sequence="4"/>
        <menuitem name="States" id="menu_states_fieldsale" action="base.action_country_state" parent="menu_fieldsale_customer_address" sequence="5"/>
</odoo>